{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import\"./Nav.css\";import avatarMini from\"../../media/images/avatarMini.png\";import cart from\"../../media/images/cart.svg\";import logo from\"../../media/images/logo.jpeg\";import{Link}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Nav(){const Username=localStorage.getItem(\"Username\");const[showImageModal,setShowImageModal]=useState(false);const[avatar,setAvatar]=useState(localStorage.getItem(\"avatar\")||avatarMini);useEffect(()=>{localStorage.setItem(\"avatar\",avatar);},[avatar]);const handleImageClick=()=>{setShowImageModal(true);};const handleImageUpload=event=>{const file=event.target.files[0];const reader=new FileReader();reader.readAsDataURL(file);reader.onloadend=()=>{const imageSource=reader.result;setAvatar(imageSource);};};const handleCloseModal=()=>{setShowImageModal(false);};// const [count, setCount] = useState(localStorage.getItem(\"count\") || 0);\n// Update count when the component mounts\n// function changeCount() {\n//   setCount((count) => Number(count));\n// }\n// useEffect(() => {\n//   setCount(localStorage.getItem(\"count\"));\n// }, []);\n// const [count, setCount] = useState(null);\n// useEffect(() => {\n//   const count = JSON.parse(localStorage.getItem(\"count\"));\n//   console.log(count);\n//   if (count) {\n//     setCount(count);\n//   }\n// }, [count]);\nconst handleClick=()=>{localStorage.clear();window.location.reload();};const data=JSON.parse(localStorage.getItem(\"cart\"))||{};let amount=Object.values(data);const initialValue=0;const count=amount.reduce((accumulator,currentValue)=>accumulator+currentValue,initialValue);return/*#__PURE__*/_jsx(\"nav\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"nav d-flex\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"left-side d-flex\",children:[/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"Logo\",width:\"42\",height:\"38\",className:\"logo\"}),/*#__PURE__*/_jsx(\"h1\",{children:/*#__PURE__*/_jsx(Link,{to:\"/books\",className:\"name_store\",children:\"JS BAND STORE / Your full name\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"right-side d-flex\",children:[/*#__PURE__*/_jsx(Link,{to:\"/cart\",children:/*#__PURE__*/_jsx(\"img\",{src:cart,alt:\"cart\",className:\"cart\",width:\"80px\",height:\"80px\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"generalCount\",children:count}),/*#__PURE__*/_jsx(\"button\",{className:\"sign-out btn btn-primary\",onClick:handleClick,children:/*#__PURE__*/_jsx(Link,{className:\"link-sign-out\",to:\"/\",children:\"Sign-out\"})}),/*#__PURE__*/_jsx(\"img\",{src:avatar,alt:\"\\u0424\\u043E\\u0442\\u043E\",width:\"30px\",height:\"30px\",className:\"avatarMini\",onClick:handleImageClick}),/*#__PURE__*/_jsx(\"h6\",{className:\"userName\",children:Username?\"\".concat(Username):\"Username\"})]}),showImageModal&&/*#__PURE__*/_jsxs(\"div\",{className:\"input__wrapper\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:handleImageUpload,id:\"input__file\",className:\"input input__file\",multiple:true}),/*#__PURE__*/_jsx(\"label\",{for:\"input__file\",className:\"input__file-button\",children:/*#__PURE__*/_jsx(\"span\",{className:\"input__file-button-text\",children:\"Choose photo\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"input__button\",onClick:handleCloseModal,children:\"X\"})]})]})});}export default Nav;","map":{"version":3,"names":["React","useState","useEffect","avatarMini","cart","logo","Link","jsx","_jsx","jsxs","_jsxs","Nav","Username","localStorage","getItem","showImageModal","setShowImageModal","avatar","setAvatar","setItem","handleImageClick","handleImageUpload","event","file","target","files","reader","FileReader","readAsDataURL","onloadend","imageSource","result","handleCloseModal","handleClick","clear","window","location","reload","data","JSON","parse","amount","Object","values","initialValue","count","reduce","accumulator","currentValue","children","className","src","alt","width","height","to","onClick","concat","type","onChange","id","multiple","for"],"sources":["C:/Users/Олександр/Desktop/frontend/bookstore/my-app/src/Components/Nav/Nav.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport \"./Nav.css\";\r\nimport avatarMini from \"../../media/images/avatarMini.png\";\r\nimport cart from \"../../media/images/cart.svg\";\r\nimport logo from \"../../media/images/logo.jpeg\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction Nav() {\r\n  const Username = localStorage.getItem(\"Username\");\r\n   const [showImageModal, setShowImageModal] = useState(false);\r\n\r\n   const [avatar, setAvatar] = useState(\r\n     localStorage.getItem(\"avatar\") || avatarMini\r\n   );\r\n  \r\n   useEffect(() => {\r\n     localStorage.setItem(\"avatar\", avatar);\r\n   }, [avatar]);\r\n\r\n   const handleImageClick = () => {\r\n     setShowImageModal(true);\r\n   };\r\n\r\n   const handleImageUpload = (event) => {\r\n     const file = event.target.files[0];\r\n     const reader = new FileReader();\r\n\r\n     reader.readAsDataURL(file);\r\n\r\n     reader.onloadend = () => {\r\n       const imageSource = reader.result;\r\n       setAvatar(imageSource);\r\n     };\r\n   };\r\n\r\n   const handleCloseModal = () => {\r\n     setShowImageModal(false);\r\n   };\r\n\r\n  // const [count, setCount] = useState(localStorage.getItem(\"count\") || 0);\r\n\r\n  // Update count when the component mounts\r\n  // function changeCount() {\r\n  //   setCount((count) => Number(count));\r\n  // }\r\n\r\n  // useEffect(() => {\r\n  //   setCount(localStorage.getItem(\"count\"));\r\n  // }, []);\r\n  // const [count, setCount] = useState(null);\r\n  // useEffect(() => {\r\n  //   const count = JSON.parse(localStorage.getItem(\"count\"));\r\n  //   console.log(count);\r\n  //   if (count) {\r\n  //     setCount(count);\r\n  //   }\r\n  // }, [count]);\r\n\r\n  const handleClick = () => {\r\n    localStorage.clear();\r\n    window.location.reload();\r\n  };\r\n\r\n  const data = JSON.parse(localStorage.getItem(\"cart\")) || {};\r\n\r\n  let amount = Object.values(data);\r\n\r\n  const initialValue = 0;\r\n  const count = amount.reduce(\r\n    (accumulator, currentValue) => accumulator + currentValue,\r\n    initialValue\r\n  );\r\n\r\n  return (\r\n    <nav>\r\n      <div className=\"nav d-flex\">\r\n        <div className=\"left-side d-flex\">\r\n          <img src={logo} alt=\"Logo\" width=\"42\" height=\"38\" className=\"logo\" />\r\n          <h1>\r\n            <Link to=\"/books\" className=\"name_store\">JS BAND STORE / Your full name</Link>\r\n          </h1>\r\n        </div>\r\n        <div className=\"right-side d-flex\">\r\n          <Link to=\"/cart\">\r\n            <img\r\n              src={cart}\r\n              alt=\"cart\"\r\n              className=\"cart\"\r\n              width=\"80px\"\r\n              height=\"80px\"\r\n            />\r\n          </Link>\r\n          <span className=\"generalCount\">{count}</span>\r\n          <button className=\"sign-out btn btn-primary\" onClick={handleClick}>\r\n            <Link className=\"link-sign-out\" to=\"/\">\r\n              Sign-out\r\n            </Link>\r\n          </button>\r\n          <img\r\n            src={avatar}\r\n            alt=\"Фото\"\r\n            width=\"30px\"\r\n            height=\"30px\"\r\n            className=\"avatarMini\"\r\n            onClick={handleImageClick}\r\n          />\r\n          <h6 className=\"userName\">{Username ? `${Username}` : \"Username\"}</h6>\r\n\r\n        </div>\r\n        {showImageModal && (\r\n          <div className=\"input__wrapper\">\r\n            <input\r\n              type=\"file\"\r\n              onChange={handleImageUpload}\r\n              id=\"input__file\"\r\n              className=\"input input__file\"\r\n              multiple\r\n            />\r\n            <label for=\"input__file\" className=\"input__file-button\">\r\n              <span className=\"input__file-button-text\">Choose photo</span>\r\n            </label>\r\n            <button className=\"input__button\" onClick={handleCloseModal}>X</button>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </nav>\r\n  );\r\n}\r\n\r\nexport default Nav;\r\n\r\n  \r\n\r\n\r\n\r\n\r\n\r\n    \r\n\r\n      \r\n\r\n      \r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}