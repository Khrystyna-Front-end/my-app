{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{useNavigate}from\"react-router-dom\";import\"./BookList.css\";import Book from\"../Book/Book.js\";import{books}from\"../../../books.js\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function BookList(){const navigate=useNavigate();useEffect(()=>{const username=localStorage.getItem(\"Username\");if(!username){navigate(\"/\");}},[navigate]);const[searchTerm,setSearchTerm]=useState(\"\");const[selectedFilter,setSelectedFilter]=useState(1);const handleSearch=e=>{setSearchTerm(e.target.value);};const handleFilterChange=filter=>{setSelectedFilter(filter);};const handleSearchSubmit=e=>{e.preventDefault();};const search=data=>{if(selectedFilter===1){return data.filter(item=>item.title.toLowerCase().includes(searchTerm.toLowerCase()));}else if(selectedFilter===2){return data.filter(item=>item.price>=0&&item.price<=15);// .sort(sortByPrice);\n}else if(selectedFilter===3){return books.filter(item=>item.price>15&&item.price<=30);// .sort(sortByPrice);\n}else if(selectedFilter===4){return books.filter(item=>item.price>30);// .sort(sortByPrice);\n}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{class:\"main-search-block\",children:[\" \",/*#__PURE__*/_jsxs(\"form\",{class:\"row justify-content-center mt-5\",id:\"search-form\",onSubmit:handleSearchSubmit,children:[\" \",/*#__PURE__*/_jsxs(\"div\",{class:\"col-auto\",children:[\" \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",class:\"form-control\",placeholder:\"Search by book name\",id:\"search-text-input\",autocomplete:\"off\",required:true,onChange:handleSearch,value:searchTerm})]}),/*#__PURE__*/_jsx(\"div\",{class:\"dropdown col-auto\",children:/*#__PURE__*/_jsxs(\"select\",{id:\"filterByPrice\",class:\"btn btn-secondary dropdown-toggle\",\"data-bs-toggle\":\"dropdown\",\"aria-expanded\":\"false\",title:\"Price\",onChange:e=>handleFilterChange(parseInt(e.target.value)),children:[/*#__PURE__*/_jsx(\"option\",{value:1,children:\"Price \\uD83D\\uDCB0\"}),/*#__PURE__*/_jsx(\"option\",{value:2,children:\"$0-$15\"}),/*#__PURE__*/_jsx(\"option\",{value:3,children:\"$15-$30\"}),/*#__PURE__*/_jsx(\"option\",{value:4,children:\"$30+\"})]})}),/*#__PURE__*/_jsx(\"div\",{class:\"col-auto\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",class:\"btn btn-outline-info\",title:\"Search\",children:\"\\uD83D\\uDD0D \\uD83D\\uDCDA\"})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center mt-5\",id:\"book-shelf\",children:/*#__PURE__*/_jsx(Book,{data:search(books)})})]});}export default BookList;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","Book","books","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","BookList","navigate","username","localStorage","getItem","searchTerm","setSearchTerm","selectedFilter","setSelectedFilter","handleSearch","e","target","value","handleFilterChange","filter","handleSearchSubmit","preventDefault","search","data","item","title","toLowerCase","includes","price","children","class","id","onSubmit","type","placeholder","autocomplete","required","onChange","parseInt","className"],"sources":["C:/Users/–û–ª–µ–∫—Å–∞–Ω–¥—Ä/Desktop/frontend/bookstore/my-app/src/Components/BookList/Books/BookList.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport \"./BookList.css\";\r\nimport Book from \"../Book/Book.js\";\r\nimport { books } from \"../../../books.js\";\r\n\r\nfunction BookList() {\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const username = localStorage.getItem(\"Username\");\r\n\r\n    if (!username) {\r\n      navigate(\"/\");\r\n    }\r\n  }, [navigate]);\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [selectedFilter, setSelectedFilter] = useState(1);\r\n\r\n  const handleSearch = (e) => {\r\n    setSearchTerm(e.target.value);\r\n  };\r\n\r\n  const handleFilterChange = (filter) => {\r\n    setSelectedFilter(filter);\r\n  };\r\n\r\n  const handleSearchSubmit = (e) => {\r\n    e.preventDefault();\r\n  };\r\n\r\n  const search = (data) => {\r\n    if (selectedFilter === 1) {\r\n      return data.filter((item) =>\r\n        item.title.toLowerCase().includes(searchTerm.toLowerCase())\r\n      );\r\n    } else if (selectedFilter === 2) {\r\n      return data.filter((item) => item.price >= 0 && item.price <= 15);\r\n      // .sort(sortByPrice);\r\n    } else if (selectedFilter === 3) {\r\n      return books.filter((item) => item.price > 15 && item.price <= 30);\r\n      // .sort(sortByPrice);\r\n    } else if (selectedFilter === 4) {\r\n      return books.filter((item) => item.price > 30);\r\n      // .sort(sortByPrice);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div class=\"main-search-block\">\r\n        {\" \"}\r\n        <form\r\n          class=\"row justify-content-center mt-5\"\r\n          id=\"search-form\"\r\n          onSubmit={handleSearchSubmit}\r\n        >\r\n          {\" \"}\r\n          <div class=\"col-auto\">\r\n            {\" \"}\r\n            <input\r\n              type=\"text\"\r\n              class=\"form-control\"\r\n              placeholder=\"Search by book name\"\r\n              id=\"search-text-input\"\r\n              autocomplete=\"off\"\r\n              required\r\n              onChange={handleSearch}\r\n              value={searchTerm}\r\n            />\r\n          </div>\r\n          <div class=\"dropdown col-auto\">\r\n            <select\r\n              id=\"filterByPrice\"\r\n              class=\"btn btn-secondary dropdown-toggle\"\r\n              data-bs-toggle=\"dropdown\"\r\n              aria-expanded=\"false\"\r\n              title=\"Price\"\r\n              onChange={(e) => handleFilterChange(parseInt(e.target.value))}\r\n            >\r\n              <option value={1}>Price üí∞</option>\r\n              <option value={2}>$0-$15</option>\r\n              <option value={3}>$15-$30</option>\r\n              <option value={4}>$30+</option>\r\n            </select>\r\n          </div>\r\n          <div class=\"col-auto\">\r\n            <button type=\"submit\" class=\"btn btn-outline-info\" title=\"Search\">\r\n              üîç üìö\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      <div className=\"row justify-content-center mt-5\" id=\"book-shelf\">\r\n        <Book data={search(books)} />\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default BookList;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}